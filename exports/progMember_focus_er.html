<!DOCTYPE html>
<html>
<head>
    <title>progMember ER Diagram - Mermaid Live Editor</title>
    <script>
        // Auto-open Mermaid Live Editor with clipboard content
        window.onload = function() {
            const mermaidContent = $mermaidContentForHtml;
            
            // Copy content to clipboard
            function copyToClipboard(text) {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(() => {
                        console.log('Content copied to clipboard');
                        // Open Mermaid Live Editor after copying
                        window.open('https://mermaid.live/edit', '_blank');
                        document.getElementById('clipboardMethod').style.display = 'block';
                    }).catch(err => {
                        console.error('Failed to copy to clipboard:', err);
                        // Fallback: show manual instructions
                        document.getElementById('manualMethod').style.display = 'block';
                    });
                } else {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    // Open Mermaid Live Editor
                    window.open('https://mermaid.live/edit', '_blank');
                    document.getElementById('clipboardMethod').style.display = 'block';
                }
            }
            
            // Copy content and open editor
            copyToClipboard(mermaidContent);
        };
    </script>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 800px; margin: 0 auto; }
        .success { color: #4CAF50; font-weight: bold; }
        .warning { color: #FF9800; font-weight: bold; }
        .info { background: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .code { background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: monospace; white-space: pre-wrap; }
        #clipboardMethod, #manualMethod { display: none; }
        .button { background: #2196F3; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; margin: 10px 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>progMember ER Diagram</h1>
        <p class="success">Copying content to clipboard and opening Mermaid Live Editor...</p>
        
        <div id="clipboardMethod" class="info">
            <h3>Successfully opened Mermaid Live Editor!</h3>
            <p>The Mermaid content has been copied to your clipboard.</p>
            <p>Simply paste (Ctrl+V) into the editor to see your diagram.</p>
        </div>
        
        <div id="manualMethod" class="info">
            <h3>Manual Copy-Paste Method</h3>
            <p>Automatic clipboard copy failed. Please:</p>
            <ol>
                <li>Copy the Mermaid content below</li>
                <li>Go to <a href="https://mermaid.live/edit" target="_blank" class="button">Mermaid Live Editor</a></li>
                <li>Paste the content into the editor</li>
            </ol>
        </div>
        
        <div class="info">
            <h3>Mermaid Content for Copy-Paste</h3>
            <div class="code">erDiagram
    progMember {
        string id
        string name
    }
    activity {
        string id
        string name
    }
    activityDef {
        string id
        string name
    }
    guide {
        string id
        string name
    }
    journal {
        string id
        string name
    }
    media {
        string id
        string name
    }
    member {
        string id
        string name
    }
    memberGroup {
        string id
        string name
    }
    programme {
        string id
        string name
    }
    progRole {
        string id
        string name
    }
    tracker {
        string id
        string name
    }
    tracker01 {
        string id
        string name
    }
    tracker02 {
        string id
        string name
    }
    tracker03 {
        string id
        string name
    }
    tracker04 {
        string id
        string name
    }
    tracker05 {
        string id
        string name
    }

    %% Relationships
    progMember ||--o{ activity : "related to"
    progMember ||--o{ activityDef : "related to"
    progMember ||--o{ guide : "related to"
    progMember ||--o{ journal : "related to"
    progMember ||--o{ media : "related to"
    progMember ||--o{ member : "related to"
    progMember ||--o{ memberGroup : "related to"
    progMember ||--o{ programme : "related to"
    progMember ||--o{ progRole : "related to"
    progMember ||--o{ tracker : "related to"
    progMember ||--o{ tracker01 : "related to"
    progMember ||--o{ tracker02 : "related to"
    progMember ||--o{ tracker03 : "related to"
    progMember ||--o{ tracker04 : "related to"
    progMember ||--o{ tracker05 : "related to"</div>
        </div>
        
        <div class="info">
            <h3>Generated Files</h3>
            <ul>
                <li><strong>Mermaid Source:</strong> D:\GIT\farcry\Cursor\FKmermaid\exports\progMember_focus_er.mmd</li>
                <li><strong>HTML Launcher:</strong> D:\GIT\farcry\Cursor\FKmermaid\exports\progMember_focus_er.html</li>
                <li><strong>Simple HTML Viewer:</strong> </li>
            </ul>
        </div>
    </div>
</body>
</html>
